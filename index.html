<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title>CPUEmu</title>
    </head>
    <body>
        <div>
            <input type="file" id="files" name="files[]" multiple />
            <output id="list"></output>
            <script>
                function handleFileSelect(evt) {
                var files = evt.target.files; // FileList object

                // files is a FileList of File objects. List some properties.
                var output = [];
                for (var i = 0, f; f = files[i]; i++) {
                    output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
                    f.size, ' bytes, last modified: ',
                    f.lastModifiedDate ? f.lastModifiedDate.toLocaleDateString() : 'n/a',
                    '</li>');
                    }
                    document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';
                    load(files.item(0));
                }

                document.getElementById('files').addEventListener('change', handleFileSelect, false);
            </script>

            <canvas id="display" width="640" height="320">
            </canvas>

            <table id="registersTable">
                <tr>
                    <td>
                        <strong>PC:</strong>
                    </td>
                    <td id="pccell">
                        <canvas id="pcCanvas" width="40" height="40">
                        </canvas>
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>I:</strong>
                    </td>
                    <td id="Icell">
                        <canvas id="iCanvas" width="40" height="40">
                        </canvas>
                    </td>
                </tr>
                <tr>
                    <td><strong>Registers:</strong></td><td id="V0cell"></td>
                    <td id="V1cell"></td>
                    <td id="V2cell"></td>
                    <td id="V3cell"></td>
                    <td id="V4cell"></td>
                    <td id="V5cell"></td>
                    <td id="V6cell"></td>
                    <td id="V7cell"></td>
                    <td id="V8cell"></td>
                    <td id="V9cell"></td>
                    <td id="VAcell"></td>
                    <td id="VBcell"></td>
                    <td id="VCcell"></td>
                    <td id="VDcell"></td>
                    <td id="VEcell"></td>
                    <td id="VFcell"></td>
                </tr>
            </table>

        </div>

        <canvas id="registerCanvas" width="640" height="40">
        </canvas>
        <div>
            <table id="romTable">
                <thead>
                    <tr>
                        <th>Address</th>
                        <th colspan=16>Bytes</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <canvas id="ramCanvas" width="640" height="2560">
        </canvas>

        <script src="src/chip8.js"></script>
        <script src="src/main.js"></script>
    </body>
</html>
